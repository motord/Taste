from __future__ import division
from jinja2.runtime import LoopContext, TemplateReference, Macro, Markup, TemplateRuntimeError, missing, concat, escape, markup_join, unicode_join, to_string, TemplateNotFound
name = '/forum.html'

def root(context, environment=environment):
    parent_template = None
    if 0: yield None
    parent_template = environment.get_template('tasteofhome/base.html', '/forum.html')
    for name, parent_block in parent_template.blocks.iteritems():
        context.blocks.setdefault(name, []).append(parent_block)
    included_template = environment.get_template('tasteofhome/macros.html', '/forum.html').make_module(context.parent, True)
    l_render_discussion_list_item = getattr(included_template, 'render_discussion_list_item', missing)
    if l_render_discussion_list_item is missing:
        l_render_discussion_list_item = environment.undefined("the template %r (imported on line 2 in '/forum.html') does not export the requested name 'render_discussion_list_item'" % included_template.__name__, name='render_discussion_list_item')
    context.vars['render_discussion_list_item'] = l_render_discussion_list_item
    context.exported_vars.discard('render_discussion_list_item')
    for event in parent_template.root_render_func(context):
        yield event

def block_content(context, environment=environment):
    l_discussions = context.resolve('discussions')
    if 0: yield None
    yield u'\n                         <div class="Tabs DiscussionsTabs">\n                           <ul>\n                              <li class="Active"><a href="#/discussions">\u6240\u6709\u8ba8\u8bba</a></li>\n                              <li><a href="#/discussions/popular" class="PopularDiscussions">\u6700\u70ed</a></li>\n                              <li><a href="#/discussions/mine" class="MyDiscussions">\u6211\u7684\u8ba8\u8bba<span>1</span></a></li>\n                           </ul>\n                         </div>\n                         <ul class="DataList Discussions">\n                            '
    l_discussion = missing
    l_render_discussion_list_item = context.resolve('render_discussion_list_item')
    for l_discussion in l_discussions:
        if 0: yield None
        yield u'\n                                %s\n                            ' % (
            escape(context.call(l_render_discussion_list_item, l_discussion)), 
        )
    l_discussion = missing
    yield u'\n                         </ul>\n                     '

def block_foot(context, environment=environment):
    if 0: yield None
    yield u'\n                    <div id="Definitions" style="display: none;">\n                        <input type="hidden" id="SetClientHour" value="22" />\n                        <input type="hidden" id="AnalyticsTask" value="none" />\n                        <input type="hidden" id="RemoteUrl" value="http://mint.samdeha.com/mint?language=zh&amp;version=1" />\n                        <input type="hidden" id="WhosOnlineFrequency" value="4" />\n                        <input type="hidden" id="TransportError" value="A fatal error occurred while processing the request.&lt;br /&gt;The server returned the following response: %s" />\n                        <input type="hidden" id="TransientKey" value="Z4J2GFMVJ0YL" />\n                        <input type="hidden" id="WebRoot" value="http://vanilla.samdeha.com/" />\n                        <input type="hidden" id="UrlFormat" value="/index.php?p=/{Path}" />\n                        <input type="hidden" id="ConfirmHeading" value="Confirm" />\n                        <input type="hidden" id="ConfirmText" value="Are you sure you want to do that?" />\n                        <input type="hidden" id="Okay" value="Okay" />\n                        <input type="hidden" id="Cancel" value="Cancel" />\n                        <input type="hidden" id="Search" value="Search" />\n                    </div>\n              '

def block_javascript(context, environment=environment):
    if 0: yield None
    yield u'\n        <script type="text/javascript" src="/media/js/forum.js?v=2.0.17.10"></script>\n        '

def block_panel(context, environment=environment):
    l_render_loginbox = context.resolve('render_loginbox')
    l_request = context.resolve('request')
    l_tags = context.resolve('tags')
    if 0: yield None
    yield u'\n                         '
    if context.call(environment.getattr(environment.getattr(l_request, 'user'), 'is_anonymous')):
        if 0: yield None
        yield u'\n                             %s\n                              <div class="Box GuestBox">\n                                <h4>\u4f60\u597d, \u65b0\u540c\u5b66!</h4>\n                                <p>\u8c8c\u4f3c\u8fd9\u4f4d\u540c\u978b\u4f60\u662f\u65b0\u6765\u7684\u5427. \u70b9\u4e0b\u9762\u7684\u6309\u94ae\u53ef\u4ee5\u52a0\u5165\u6211\u4eec!</p>\n                                <p>\n                                   <a href="/#/signin" class="Button SignInPopup">\u767b\u9646</a>\n                                   <a href="/register" class="Button ApplyButton">\u7533\u8bf7\u52a0\u5165</a>\n                                   <a href="/#/weibo" title="\u7528\u5fae\u535a\u8d26\u53f7\u767b\u5f55"><img src="/media/images/weibo.png" /></a>\n                                </p>\n                              </div>\n                         ' % (
            escape(context.call(l_render_loginbox)), 
        )
    else:
        if 0: yield None
        yield u'\n                             <a href="/forum/new/discussion" class="BigButton NewDiscussion">\u5f00\u59cb\u65b0\u8ba8\u8bba</a>\n                              <div class="Box BoxCategories">\n                                   <h4><a href="/index.php?p=/categories/all">Categories</a></h4>\n                                   <ul class="PanelInfo PanelCategories">\n                                      <li class="Active"><span><strong><a href="/index.php?p=/discussions">All Discussions</a></strong><span class="Count">1</span></span></li>\n                                      '
        l_tag = missing
        for l_tag in l_tags:
            if 0: yield None
            yield u'\n                                      <li class="Depth1"><strong><a href="/index.php?p=/categories/%s">%s</a></strong><span class="Count">0</span></li>\n                                      ' % (
                escape(context.call(environment.getattr(l_tag, 'key'))), 
                escape(environment.getattr(l_tag, 'name')), 
            )
        l_tag = missing
        yield u'\n                                   </ul>\n                              </div>\n                              <div id="WhosOnline" class="Box">\n                                  <h4>Who\'s Online (1)</h4>\n                                  <ul class="PanelInfo">\n                                      <li>\n                                            <strong >\n                                                <a href="/index.php?p=/profile/1/zhaozhou">zhaozhou</a>\n                                            </strong>\n                                            10:53PM\n                                      </li>\n                                  </ul>\n                              </div>\n                         '
    yield u'\n                     '

blocks = {'content': block_content, 'foot': block_foot, 'javascript': block_javascript, 'panel': block_panel}
debug_info = '1=8&2=11&7=20&16=26&17=29&18=32&59=34&3=38&22=42&23=48&24=51&34=55&40=57&41=60&42=64&56=65'